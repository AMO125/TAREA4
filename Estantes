        if opcion == "1":
            respuesta=input("a) Mediante lectura de archivo csv. \n"
                            "b) Mediante agregado manual (libro por libro). \n"
                            "Elija como desea agregar libros a la repisa: ")
            while respuesta != "a" and respuesta != "b":
                respuesta=input("Por favor, ingrese una opción válida: ")
            if respuesta.lower() == "a":
                archivo=input("Proporcione la ruta del archivo csv: ")
                apilar_Archivo(Repisa1, archivo)
            elif respuesta.lower() == "b":
                while True:
                    titulo = input("Proporcione el título del libro: ")
                    while not titulo:
                        titulo = input("Por favor, ingrese un título.")
                    autor = input("Proporcione el autor del libro: ")
                    while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                        autor = input("Por favor, ingrese un autor válido: ")
                    editorial = input("Proporcione el editorial del libro: ")
                    while not editorial:
                        editorial = input("Por favor, ingrese una editorial.")
                    while True:
                        try:
                            anio = int(input("Proporcione el año de publicación del libro: "))
                            if anio <= 0 or anio > 2025:
                                print("Por favor, agregue un año de publicación válido.")
                                continue
                            else:
                                break
                        except ValueError as e:
                            print("Por favor, agregue un año de publicación válido.")
                    libro=crearLibro([titulo, autor, editorial, anio])
                    Repisa1.push(libro)
                    continuar = input("¿Desea seguir agregando libros a la repisa 1? [S/N]")
                    while continuar.lower() != "n" and continuar.lower() != "s":
                        continuar = input("Por favor, escoja una opción válida.")
                    if continuar.lower() == "s":
                        pass
                    else:
                        break

        elif opcion == "2":
            respuesta = input("a) Mediante lectura de archivo csv. \n"
                              "b) Mediante agregado manual (libro por libro).\n"
                              "Elija como desea agregar libros a la repisa: ")
            while respuesta != "a" and respuesta != "b":
                respuesta = input("Por favor, ingrese una opción válida: ")
            if respuesta.lower() == "a":
                archivo = input("Proporcione la ruta del archivo csv: ")
                apilar_Archivo(Repisa2, archivo)
            elif respuesta.lower() == "b":
                while True:
                    titulo = input("Proporcione el título del libro: ")
                    while not titulo:
                        titulo = input("Por favor, ingrese un título.")
                    autor = input("Proporcione el autor del libro: ")
                    while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                        autor = input("Por favor, ingrese un autor válido: ")
                    editorial = input("Proporcione el editorial del libro: ")
                    while not editorial:
                        editorial = input("Por favor, ingrese una editorial.")
                    while True:
                        try:
                            anio = int(input("Proporcione el año de publicación del libro: "))
                            if anio <= 0 or anio > 2025:
                                print("Por favor, agregue un año de publicación válido.")
                                continue
                            else:
                                break
                        except ValueError as e:
                            print("Por favor, agregue un año de publicación válido.")
                    libro = crearLibro([titulo, autor, editorial, anio])
                    Repisa2.push(libro)
                    continuar = input("¿Desea seguir agregando libros a la repisa 2? [S/N]")
                    while continuar.lower() != "n" and continuar.lower() != "s":
                        continuar = input("Por favor, escoja una opción válida.")
                    if continuar.lower() == "s":
                        pass
                    else:
                        break

        elif opcion == "3":
            titulo = input("Ingrese el título del libro buscado: ")
            while not titulo:
                titulo = input("Por favor, ingrese un título.")
            autor = input("Ingrese el autor del libro buscando: ")
            while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                autor = input("Por favor, ingrese un autor válido: ")
            editorial = input("Ingrese la editorial del libro buscado: ")
            while not editorial:
                print("Por favor, ingrese una editorial.")
            while True:
                try:
                    anio = int(input("Proporcione el año de publicación del libro: "))
                    if anio <= 0 or anio > 2025:
                        print("Por favor, agregue un año de publicación válido.")
                        continue
                    else:
                        break
                except ValueError as e:
                    print("Por favor, agregue un año de publicación válido.")
            librob = Book(titulo, autor, editorial, anio)

            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía.")
            else:
                print(f"La biblioteca tiene un total de "
                      f"{Repisa1.repeticiones(librob)+Repisa2.repeticiones(librob)+RepisaOrdenada.repeticiones(librob)} "
                      f"ejemplares del libro buscado.")
                if  Repisa1.contiene(librob):
                    print(f"La repisa 1 tiene {Repisa1.repeticiones(librob)} ejemplares del libro buscado.")
                if Repisa2.contiene(librob):
                    print(f"La repisa 2 tiene {Repisa2.repeticiones(librob)} ejemplares del libro buscado.")
                if RepisaOrdenada.contiene(librob):
                    print(f"La repisa ordenada tiene {RepisaOrdenada.repeticiones(librob)} ejemplares del lbro buscado.")

        elif opcion == "4":
            if not Repisa1.esta_vacia() or not Repisa2.esta_vacia():
                respuesta1 = input("Hay libros que no han sido colocados en la repisa ordenada ¿Desea continuar? [S/N]: ")
                while not respuesta1.lower() == "s" and not respuesta1.lower() == "n":
                    respuesta1 = ("Elija una respuesta válida [S/N]")
                if respuesta1.lower() == "s":
                    if RepisaOrdenada.esta_vacia():
                        print("La repisa ordenada está vacía.")
                    else:
                        pass #Aquí guarda en csv
            else:
                if RepisaOrdenada.esta_vacia():
                    print("La repisa ordenada está vacía.")
                else:
                    pass #Aquí guarda en csv


        elif opcion == "5":
            if RepisaOrdenada.esta_vacia():
                print("La repisa ordenada está vacía.")
            else:
                titulo = input("Ingrese el título del libro a eliminar: ")
                while not titulo:
                    print("Por favor, ingrese un título.")
                autor = input("Ingrese el autor del libro a eliminar: ")
                while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                    autor = input("Por favor, ingrese un autor válido: ")
                editorial = input("Ingrese la editorial del libro a eliminar: ")
                while not editorial:
                    print("Por favor, ingrese una editorial.")
                while True:
                    try:
                        anio = int(input("Proporcione el año de publicación del libro: "))
                        if anio <= 0 or anio > 2025:
                            print("Por favor, agregue un año de publicación válido.")
                            continue
                        else:
                            break
                    except ValueError as e:
                        print("Por favor, agregue un año de publicación válido.")
                libro_eliminar = Book(titulo, autor, editorial, anio)
                if RepisaOrdenada.contiene(libro_eliminar):
                    RepisaOrdenada.eliminar(libro_eliminar)
                    print("El libro {} ha sido eliminado (1 vez) de la repisa ordenada".format(titulo))
                else:
                    print("El libro {} no se encuentra en la repisa ordenada".format(titulo))

        elif opcion == "6":
            if RepisaOrdenada.esta_vacia():
                print("La repisa ordenada está vacía.")
            else:
                titulo = input("Ingrese el título del libro a eliminar: ")
                while not titulo:
                    print("Por favor, ingrese un título.")
                autor = input("Ingrese el autor del libro a eliminar: ")
                while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                    autor = input("Por favor, ingrese un autor válido: ")
                editorial = input("Ingrese la editorial del libro a eliminar: ")
                while not editorial:
                    print("Por favor, ingrese una editorial.")
                while True:
                    try:
                        anio = int(input("Proporcione el año de publicación del libro: "))
                        if anio <= 0 or anio > 2025:
                            print("Por favor, agregue un año de publicación válido.")
                            continue
                        else:
                            break
                    except ValueError as e:
                        print("Por favor, agregue un año de publicación válido.")
                libroaeliminar = Book(titulo, autor, editorial, anio)
                if RepisaOrdenada.contiene(libroaeliminar):
                    while RepisaOrdenada.contiene(libroaeliminar):
                        RepisaOrdenada.eliminar(libroaeliminar)
                    print("El libro {} ha sido eliminado completamente de la repisa ordenada".format(titulo))
                else:
                    print("El libro a eliminar no se encuentra en la repisa ordenada")

        elif opcion == "7":
            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía.")
            else:
                if not Repisa1.esta_vacia():
                    print(f"Repisa 1: {Repisa1}")
                if not Repisa2.esta_vacia():
                    print(f"Repisa 2: {Repisa2}")
                if not RepisaOrdenada.esta_vacia():
                    print(f"Repisa ordenada: {RepisaOrdenada}")

        elif opcion == "8":
            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía")
            elif Repisa1.esta_vacia() and Repisa2.esta_vacia() and not RepisaOrdenada.esta_vacia() and RepisaOrdenada.comparador == comp_titulo:
                pass
            else:
                it1 = iter(Repisa1)
                it2 = iter(Repisa2)
                it3 = iter(RepisaOrdenada)
                RepisaOrdenada2 = Lista(comp_titulo)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it2))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it3))
                    except StopIteration:
                        break

                RepisaOrdenada = RepisaOrdenada2
                Repisa1.vaciar()
                Repisa2.vaciar()
            print("Se han reacomodado todos los libros en la repisa ordenada respecto a su título.")

        elif opcion== "9":
            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía")
            elif Repisa1.esta_vacia() and Repisa2.esta_vacia() and not RepisaOrdenada.esta_vacia() and RepisaOrdenada.comparador == comp_autor:
                    pass
            else:
                it1 = iter(Repisa1)
                it2 = iter(Repisa2)
                it3 = iter(RepisaOrdenada)
                RepisaOrdenada2=Lista(comp_autor)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it2))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it3))
                    except StopIteration:
                        break
                RepisaOrdenada = RepisaOrdenada2
                Repisa1.vaciar()
                Repisa2.vaciar()
            print("Se han reacomodado todos los libros en la repisa ordenada respecto a su autor.")


        elif opcion == "10":
            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía")
            elif Repisa1.esta_vacia() and Repisa2.esta_vacia() and not RepisaOrdenada.esta_vacia() and RepisaOrdenada.comparador == comp_editorial:
                    pass
            else:
                it1 = iter(Repisa1)
                it2 = iter(Repisa2)
                it3 = iter(RepisaOrdenada)

                RepisaOrdenada2=Lista(comp_editorial)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it2))
                    except StopIteration:
                        break
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it3))
                    except StopIteration:
                        break

                RepisaOrdenada=RepisaOrdenada2
                Repisa1.vaciar()
                Repisa2.vaciar()
            print("Se han reacomodado todos los libros en la repisa ordenada respecto a la editorial.")

        elif opcion == "11":
            if RepisaOrdenada.esta_vacia():
                print("No hay libros en la repisa ordenada.")
            else:
                RepisaOrdenada2=Lista(comp_titulo)
                it1=iter(RepisaOrdenada)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                RepisaOrdenada = RepisaOrdenada2
                print("Se han reacomodado los libros de la repisa ordenada respecto a su título.")

        elif opcion == "12":
            if RepisaOrdenada.esta_vacia():
                print("No hay libros en la repisa ordenada.")
            else:
                RepisaOrdenada2=Lista(comp_autor)
                it1=iter(RepisaOrdenada)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                RepisaOrdenada = RepisaOrdenada2
                print("Se han reacomodado los libros de la repisa ordenada respecto a su autor.")

        elif opcion == "13":
            if RepisaOrdenada.esta_vacia():
                print("No hay libros en la repisa ordenada.")
            else:
                RepisaOrdenada2=Lista(comp_editorial)
                it1=iter(RepisaOrdenada)
                while True:
                    try:
                        RepisaOrdenada2.agregar(next(it1))
                    except StopIteration:
                        break
                RepisaOrdenada = RepisaOrdenada2
                print("Se han reacomodado los libros de la repisa ordenada respecto a su editorial.")

        elif opcion == "14":
            Repisa1.vaciar()
            Repisa2.vaciar()
            RepisaOrdenada.vaciar()
            print("La biblioteca se ha vaciado")

        elif opcion == "15":
            if RepisaOrdenada.esta_vacia():
                print("No hay libros en la repisa ordenada.")
            else:
                titulo = input("Ingrese el título del libro a eliminar: ")
                while not titulo:
                    print("Por favor, ingrese un título.")
                autor = input("Ingrese el autor del libro a eliminar: ")
                while not autor or not (all(x.isalpha() or x.isspace() for x in autor)):
                    autor = input("Por favor, ingrese un autor válido: ")
                editorial = input("Ingrese la editorial del libro a eliminar: ")
                while not editorial:
                    print("Por favor, ingrese una editorial.")
                while True:
                    try:
                        anio = int(input("Proporcione el año de publicación del libro: "))
                        if anio <= 0 or anio > 2025:
                            print("Por favor, agregue un año de publicación válido.")
                            continue
                        else:
                            break
                    except ValueError as e:
                        print("Por favor, agregue un año de publicación válido.")
            libroRequerido = Book(titulo, autor, editorial, anio)
            if Repisa1.contiene(libroRequerido):
                print("El libro buscado se encuentra en la repisa 1.")
            if Repisa2.contiene(libroRequerido):
                print("El libro buscado se encuentra en la repisa 2")
            if RepisaOrdenada.contiene(libroRequerido):
                print("El libro buscado se encuentra en la repisa ordenada.")
            if not Repisa1.contiene(libroRequerido) and not Repisa2.contiene(libroRequerido) and not RepisaOrdenada.contiene(libroRequerido):
                print("El libro buscado no se encuentra en la biblioteca.")


        elif opcion == "16":
            if biblioteca_vacia(Repisa1, Repisa2, RepisaOrdenada):
                print("La biblioteca está vacía.")
            else:
                print(f"La biblioteca tiene un total de {Repisa1.tamanio()+Repisa2.tamanio()+RepisaOrdenada.tamanio()} libros.")
                if Repisa1.esta_vacia():
                    print("No hay libros en la repisa 1.")
                else:
                    print(f"La repisa 1 tiene {Repisa1.tamanio()} libros.")
                if Repisa2.esta_vacia():
                    print("No hay libros en la repisa 2.")
                else:
                    print(f"La repisa 2 tiene {Repisa2.tamanio()} libros.")
                if RepisaOrdenada.esta_vacia():
                    print("No hay libros en la repisa ordenada.")
                else:
                    print(f"La repisa ordenada tiene {RepisaOrdenada.tamanio()} lbros.")

        elif opcion == "17":
            if Repisa1.esta_vacia() and Repisa2.esta_vacia() and RepisaOrdenada.esta_vacia():
                print("La biblioteca está vacía.")
            else:
                print("La biblioteca no está vacía.")


        elif opcion == "18":
            print("Gracias por usar la biblioteca R-2 Dato, ¡Hasta luego!")
            break
